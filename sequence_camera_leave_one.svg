<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="389px" preserveAspectRatio="none" style="width:974px;height:389px;" version="1.1" viewBox="0 0 974 389" width="974px" zoomAndPan="magnify"><defs><filter height="300%" id="f1oe63ucnaolua" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="34" x2="34" y1="89.0679" y2="299.304"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="302" x2="302" y1="89.0679" y2="299.304"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="586.5" x2="586.5" y1="89.0679" y2="299.304"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="870.5" x2="870.5" y1="89.0679" y2="299.304"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="933.5" x2="933.5" y1="89.0679" y2="299.304"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="8" y="84.9659">Sensor</text><ellipse cx="34" cy="13" fill="#FEFECE" filter="url(#f1oe63ucnaolua)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M34,21 L34,48 M21,29 L47,29 M34,48 L21,63 M34,48 L47,63 " fill="none" filter="url(#f1oe63ucnaolua)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="8" y="313.27">Sensor</text><ellipse cx="34" cy="327.3719" fill="#FEFECE" filter="url(#f1oe63ucnaolua)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M34,335.3719 L34,362.3719 M21,343.3719 L47,343.3719 M34,362.3719 L21,377.3719 M34,362.3719 L47,377.3719 " fill="none" filter="url(#f1oe63ucnaolua)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="272" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="279" y="72.9659">Model</text><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="272" y="298.304"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="279" y="320.27">Model</text><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="544.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="551.5" y="72.9659">Controller</text><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="544.5" y="298.304"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="551.5" y="320.27">Controller</text><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="33" x="852.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="19" x="859.5" y="72.9659">KG</text><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="33" x="852.5" y="298.304"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="19" x="859.5" y="320.27">KG</text><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="899.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="906.5" y="72.9659">Invoker</text><rect fill="#FEFECE" filter="url(#f1oe63ucnaolua)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="899.5" y="298.304"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="906.5" y="320.27">Invoker</text><polygon fill="#A80036" points="290,118.7739,300,122.7739,290,126.7739,294,122.7739" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="296" y1="122.7739" y2="122.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="41" y="116.9649">setDeviceStatus(cam1, presence, leaving)</text><polygon fill="#A80036" points="575,150.4799,585,154.4799,575,158.4799,579,154.4799" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="581" y1="154.4799" y2="154.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="309" y="148.6709">onStatusChange(camera, presence, leaving)</text><polygon fill="#A80036" points="859,182.186,869,186.186,859,190.186,863,186.186" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="587" x2="865" y1="186.186" y2="186.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="594" y="180.377">removeFromRoom(occupant, house, room)</text><polygon fill="#A80036" points="598,213.892,588,217.892,598,221.892,594,217.892" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="592" x2="870" y1="217.892" y2="217.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="604" y="212.083">(remaining occupants = 1)</text><polygon fill="#A80036" points="921.5,245.598,931.5,249.598,921.5,253.598,925.5,249.598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="587" x2="927.5" y1="249.598" y2="249.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="594" y="243.789">RoomBroadcast(light, brightness=50)</text><polygon fill="#A80036" points="859,277.304,869,281.304,859,285.304,863,281.304" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="587" x2="865" y1="281.304" y2="281.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="594" y="275.495">setStatus(remaining, "resting")</text><!--MD5=[18e8867882bcfec88a24348fb39aeef7]
@startuml
actor Sensor
participant Model as M
participant Controller as C
participant KG as KG
participant Invoker as I

Sensor -> M: setDeviceStatus(cam1, presence, leaving)
M -> C: onStatusChange(camera, presence, leaving)
C -> KG: removeFromRoom(occupant, house, room)
KG - -> C: (remaining occupants = 1)
C -> I: RoomBroadcast(light, brightness=50)
C -> KG: setStatus(remaining, "resting")
@enduml

PlantUML version 1.2020.02(Sun Mar 01 02:22:07 PST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.7+6-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>